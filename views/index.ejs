<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Little Bakery</title>

    <!-- <link rel="shortcut icon" type="image/x-icon" href="image/logo-name-img/logo.png" /> -->
    <link rel="stylesheet" type="text/css" href="/public/css/Css_Reset.css">
    <link rel="stylesheet" type="text/css" href="/public/css/style_common.css">
    <link rel="stylesheet" type="text/css" href="/public/css/style_index.css">

    <!-- fonts used -->
    <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

    <!-- search icon -->
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css'
        integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU' crossorigin='anonymous'>

    <!-- best seller cards -->
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>


    <script src="/public/js/client/jquery-3.3.1.min.js"></script>
</head>

<body>
    <div id="wrapper">
        <header>
            <header>
                <section id="header">

                    <section id="search">
                        <i class="fas fa-search fa-sm"></i>
                        <form autocomplete="off" action="#" id="search" class="alignleft">
                            <div class="autocomplete" style="width:300px;">
                                <input id="myInput" type="text" name="valueToSearch" placeholder="Search" size="40"
                                    maxlength="128" class="submit_on_enter">
                            </div>

                            <input type="submit" name="search" value="Search"
                                style="position: absolute; height: 0px; width: 0px; border: none; padding: 0px;"
                                hidefocus="true" tabindex="-1">

                            <br><br>
                        </form>
                    </section>

                    <section id="links">

                        <%
    
            
                        let userId = locals.session.userId;
                
                        // Check if user is logged in or not.
                        if (userId) { // is logged in
                
                        %>


                        <div class="acc-btn" onclick="window.location.href='/profile'" style="cursor:pointer;"><i
                                class="fas fa-user "></i><a href="/profile" class="login"> My Account</a></div>

                        <form method="POST" action="/logout">

                            <div class="logout-btn" style="cursor:pointer;"><i class="fas fa-sign-out-alt"></i>
                                <!--<a href="/logout" class="login"> Logout</a>-->

                                <button type="submit" name="delete" class="logout">Logout</button>

                            </div>
                        </form>


                        <div id="cart" class="login-btn" onclick="window.location.href='/cart'">
                            <i class="fas fa-shopping-cart ">
                            </i>
                            <span class="cartcount">0</span>
                            <span class="cartamount">SGD $0.00</span>


                        </div>


                        <%
    
                    }else{ // not logged in
            
            %>


                        <div class="login-btn" onclick="window.location.href='/login'" style="cursor:pointer;"><i
                                class="fas fa-lock "></i><a href="/login" class="login"> Login / Register</a></div>


                        <div id="cart" class="login-btn" onclick="window.location.href='/cart'">
                            <i class="fas fa-shopping-cart ">
                            </i>
                            <span class="cartcount">0</span>
                            <span class="cartamount">SGD $0.00</span>


                        </div>

                        <%
                    }   
                %>

                    </section>

                </section>

                <!-- <div class="logo_name" onclick="window.location.href='index.ejs'"></div> -->
                <div class="logo_name" onclick="window.location.href='/'"> LITTLE BAKERY</div>

            </header>

            <nav class="navbar">
                <ul>
                    <li class="item"><a href="/" class="nav-link ">Home</a></li>
                    <!-- The top-level route defined in route.js + The sub-route defined in other file = The complete route to put inside 'href'. -->
                    <li class="item"><a href="/category" class="nav-link ">Category</a></li>
                    <!-- <li class="item"><a href="#" class="nav-link">Catering</a></li> -->
                    <li class="item"><a href="/about" class="nav-link">About</a></li>
                    <li class="item"><a href="/contact" class="nav-link">Contact</a></li>
                </ul>
                <hr id="divider">
            </nav>



            <div class="slideshow-container">

                <div class="mySlides fade">
                    <div class="numbertext">1 / 3</div>
                    <img src="/public/images/banners/bannerImg1.jpeg" style="width:100%">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">2 / 3</div>
                    <img src="/public/images/banners/bannerImg4.jpeg" style="width:100%">
                </div>

                <div class="mySlides fade">
                    <div class="numbertext">3 / 3</div>
                    <img src="/public/images/banners/bannerImg5.jpg" style="width:100%">
                </div>

                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>


                <!-- <div class="bullets "style="text-align:center">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
            </div> -->
            </div>


            <div class="containerOne">
                <h2>Macarons & Gifts</h2>
                <p>Delicious macarons for every occasion</p>
                <button onclick="window.location.href='/category/macarons'">View Our Macarons</button>
            </div>

            <div class="visitFlexContainer">
                <div id="vistImg">
                    <img src="/public/images/cat/cupcakes/Grp/rabbit.jpg" style="width:100%">
                </div>

                <div id="visitText">
                    <h2>Visit</h2>
                    <p>EXPERIENCE OUR ANG MO KIO RESTAURANT, MARKET & PATISSERIE.</p>
                    <hr>
                    <div class="visitOtherInfo">
                        <p>Menus</p>
                        <p>Hours of operation</p>
                        <p>Location</p>
                    </div>
                </div>
            </div>


            <div class="containerTwo">
                <h2>Best Sellers</h2>
            </div>

            <!-- TOP 4 best seller, excluding sold out items-->
            <article id="best-seller">
                <div class="flex-container">

                    <!-- TODO: loop one figure class to display top 4 best sellers-->
                    <figure class="flex-item" onclick="window.open('#','mywindow');">

                        <img src="/public/images/cat/cookies/strawberries_chocochip.jpg">
                        <figcaption>
                            <p>Strawberry Chocolate Chip</p>
                            <div class="price">
                                <s>$2.50</s>
                                <p>$2.00</p>
                            </div>
                        </figcaption>
                        <i class="fas fa-shopping-cart"></i>
                        <a href="#"></a>
                    </figure>

                    <!-- hardcoded top 4 best sellers as of now -->
                    <figure class="flex-item" onclick="window.open('#','mywindow');">

                        <img src="/public/images/cat/macaron/colorful_marcarons.jpg">
                        <figcaption>
                            <p>Colorful Macarons</p>
                            <div class="price">
                                <s>$3.50</s>
                                <p>$3.00</p>
                            </div>
                        </figcaption>
                        <i class="fas fa-shopping-cart"></i>
                        <a href="#"></a>
                    </figure>

                    <figure class="flex-item" onclick="window.open('#','mywindow');">

                        <img src="/public/images/cat/minicakes/chococoffee.jpg">
                        <figcaption>
                            <p>Chcocolate Coffee</p>
                            <div class="price">
                                <s>$4.50</s>
                                <p>$4.00</p>
                            </div>
                        </figcaption>
                        <i class="fas fa-shopping-cart"></i>
                        <a href="#"></a>
                    </figure>

                    <figure class="flex-item" onclick="window.open('#','mywindow');">

                        <img src="/public/images/cat//cookies/frostsugar_cookie.jpg">
                        <figcaption>
                            <p>Frost Sugar Cookie</p>
                            <div class="price">
                                <s>$2.50</s>
                                <p>$2.00</p>
                            </div>
                        </figcaption>
                        <i class="fas fa-shopping-cart"></i>
                        <a href="#"></a>
                    </figure>

                </div>
            </article>


            <div class="containerThree">
                <h2>The Little Bakery</h2>
                <p>123 ANG MO KIO AVENUE 1, #01-23, S560123</p>
                <p>6123-4567</p>
                <a>www.littlebakery.com</a>


                <div id="socialMediaFlexContainer">
                    <div>
                        <a href="https://www.facebook.com/" target="_blank" title="Facebook link">
                            <img src="/public/images/social_media/facebook-logo.png" alt="facebook">
                        </a>
                    </div>
                    <div>
                        <a href="https://www.twitter.com/" target="_blank" title="Twitter link">
                            <img src="/public/images/social_media/twitter.png" alt="twitter">
                        </a>
                    </div>
                    <div>
                        <a href="https://www.instagram.com/" target="_blank" title="Instagram link">
                            <img src="/public/images/social_media/instagram-logo.png" alt="instagram">
                        </a>
                    </div>
                    <div>
                        <a href="https://www.pintrest.com/" target="_blank" title="Pintrest link">
                            <img src="/public/images/social_media/pinterest-social-logo.png" alt="pintrest">
                        </a>
                    </div>
                </div>

                <p> © 2019-2020 Little Bakery - All rights reserved.</p>
            </div>


    </div>


    <!-- For image slider-->
    <script>
        var slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" activee", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " activee";
        }
    </script>
</body>

</html>